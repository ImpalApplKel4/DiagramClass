CREATE TABLE USER (
	username VARCHAR2(20),
	password VARCHAR2(20),
	CONSTRAINT USER_PK PRIMARY KEY (username)
);

CREATE TABLE PRODUK(
	idProduk VARCHAR2(10),
	username VARCHAR2(20),
	namaProduk VARCHAR2(20),
	hargaProduk number,
	tipeProduk VARCHAR2(20),
	CONSTRAINT PRODUK_PK PRIMARY KEY (idProduk),
	CONSTRAINT PRODUK_FK FOREIGN KEY (username) REFERENCES USER(username) ON DELETE CASCADE
);

CREATE TABLE BAHAN(
	idBahan VARCHAR2(10),
	username VARCHAR2(20),
	namaBahan VARCHAR2(20),
	stockBahan number,
	tglBahan date,
	CONSTRAINT BAHAN_PK PRIMARY KEY (idBahan),
	CONSTRAINT BAHAN_FK FOREIGN KEY (username) REFERENCES USER(username) ON DELETE CASCADE
);

CREATE TABLE KARYAWAN(
	NIK VARCHAR2(10),
	username VARCHAR2(20),
	namaKar VARCHAR2(20),
	Gaji number,
	divisi VARCHAR2(20),
	noHP VARCHAR(15),
	CONSTRAINT KARYAWAN_PK PRIMARY KEY (NIK),
	CONSTRAINT KARYAWAN_FK FOREIGN KEY (username) REFERENCES USER(username) ON DELETE CASCADE
);

CREATE TABLE PROFIT_OR_LOSS(
	idPOL VARCHAR2(10),
	tglPOL date,
	TotalPengeluaran number,
	TotalPemesanan number,
	POL number,
	totalPiutang number
	CONSTRAINT PROFIT_OR_LOSS_PK PRIMARY KEY (idPOL)
);

CREATE TABLE PEMESANAN
	idPemesanan VARCHAR2(10),
	username VARCHAR2(20),
	namaCust VARCHAR2(20),
	CP VARCHAR2(15),
	alamatCust(60),
	status (10),
	TotalHarga number,
	TglBayar date,
	TotaldiBayar number,
	pesanan VARCHAR2(20),
	jumpesanan number,
	tglPesan date,
	jumPiutang number,
	CONSTRAINT PEMESANAN_PK PRIMARY KEY (idPemesanan),
	CONSTRAINT PEMESANAN_FK FOREIGN KEY (username) REFERENCES USER(username) ON DELETE CASCADE
);

CREATE TABLE DETIL_PEMESANAN(
	idPemesanan VARCHAR2(10),
	jumPesan number,
	Pesanan VARCHAR2(20),
	CONSTRAINT DETIL_PEMESANAN_PK PRIMARY KEY (idPemesanan),
	CONSTRAINT DETIL_PEMESANAN_FK FOREIGN KEY (idPemesanan) REFERENCES DETIL_PEMESANAN(idPemesanan) ON DELETE CASCADE
);

CREATE TABLE PENGELUARAN(
	idPengeluaran VARCHAR2(10),
	username VARCHAR2(20),
	idPOL VARCHAR2(10),
	keterangan VARCHAR2(20),
	hargaPengeluaran number,
	CONSTRAINT PENGELUARAN_PK PRIMARY KEY (idPengeluaran),
	CONSTRAINT PENGELUARAN_FK FOREIGN KEY (username) REFERENCES USER(username) ON DELETE CASCADE,
	CONSTRAINT PENGELUARAN_FK FOREIGN KEY (idPOL) REFERENCES PROFIT_OR_LOSS(idPOL) ON DELETE CASCADE
);